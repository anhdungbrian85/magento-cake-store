<?xml version="1.0"?>
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <preference for="X247Commerce\Checkout\Api\StoreLocationContextInterface" type="X247Commerce\Checkout\Service\StoreLocationContext"/>
    
    <type name="Magento\Checkout\Api\ShippingInformationManagementInterface">
        <plugin name="x247checkout_edit_checkout_location_context" type="X247Commerce\Checkout\Plugin\Checkout\Model\ShippingInformationManagementPlugin" sortOrder="20" disabled="false" />
    </type>
    <preference for="X247Commerce\Checkout\Api\StoreLocationContextInterface" type="X247Commerce\Checkout\Service\StoreLocationContext"/>

    <!-- Set delivery date options -->
    <type name="Amasty\CheckoutDeliveryDate\Model\ConfigProvider">
        <plugin name="x247checkout_edit_config_delivery_date" type="X247Commerce\Checkout\Plugin\Checkout\DeliveryDate\ConfigProvider" sortOrder="20" disabled="false" />
    </type>
    
    <!-- Change delivery date value label -->
    <type name="Amasty\CheckoutDeliveryDate\Block\Sales\Order\Info\Delivery">
        <plugin name="x247checkout_change_delivery_value" type="X247Commerce\Checkout\Plugin\Checkout\DeliveryDate\DeliveryInfo" sortOrder="20" disabled="false" />
    </type>

    <type name="Amasty\StorePickupWithLocator\Model\PickupDate">
        <plugin name="change_format_date" type="X247Commerce\Checkout\Plugin\Model\PickupDate" disabled="false"  />
    </type>

    <type name="Amasty\CheckoutDeliveryDate\Model\GuestDeliveryInformationManagement">
        <plugin name="change_format_date_guest_delivery" type="X247Commerce\Checkout\Plugin\Model\GuestDeliveryInformationManagement" disabled="false"  />
    </type>

     <type name="Amasty\CheckoutDeliveryDate\Model\DeliveryInformationManagement">
        <plugin name="change_format_date_delivery" type="X247Commerce\Checkout\Plugin\Model\DeliveryInformationManagement" disabled="false"  />
    </type>

    <type name="Magento\Checkout\CustomerData\DefaultItem">
        <plugin name="add_lead_delivery_data" type="X247Commerce\Checkout\Plugin\CustomerData\DefaultItem" disabled="false"  />
    </type>

    <preference for="Amasty\CheckoutCore\Block\Onepage\LayoutProcessor" type="X247Commerce\Checkout\Block\Onepage\LayoutProcessor" />
</config>
