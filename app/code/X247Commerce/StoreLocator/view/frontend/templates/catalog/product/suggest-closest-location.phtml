<?php
/**
 * @var X247Commerce\StoreLocator\Block\Catalog\Product\SuggestClosestLocation $block
 */
?>
<?php
$objectManager = \Magento\Framework\App\ObjectManager::getInstance();
$formKey = $objectManager->get(\Magento\Framework\Data\Form\FormKey::class);
?>
<div class="closest-location-container">
    <div class="closest-location_message"></div>
    <div class="closest-location_title">
    </div>
</div>
<script type="text/x-magento-init">
    {
        "*": {
            "X247Commerce_StoreLocator/js/product/view/suggest-closest-location": {
                "suggestClosestLocationAjaxUrl": "<?= $block->getSuggestClosestLocationAjaxUrl() ?>",
                "currentProductSku": "<?= $block->getCurrentProductSku() ?>",
                "currentProductType": "<?= $block->getCurrentProductType() ?>",
                "currentStoreLocationId": "<?= $block->getCurrentStoreLocationId() ?>",
                "formkey": "<?= $formKey->getFormKey(); ?>"
            }
        }
    }
</script>
<script id="closest-location-title" type="text/x-magento-template">
    <div class="wrapper">
        <a href="<%- data.href %>"><%= data.name %></a>
    </div>
</script>
<script>
    window.suggestClosestLocationAjaxUrl = "<?= $block->getSuggestClosestLocationAjaxUrl() ?>";
    window.currentProductSku = "<?= $block->getCurrentProductSku() ?>";
    window.currentProductType = "<?= $block->getCurrentProductType() ?>";
    window.currentStoreLocationId = "<?= $block->getCurrentStoreLocationId() ?>";
    window.formkey = "<?= $formKey->getFormKey(); ?>";
</script>
